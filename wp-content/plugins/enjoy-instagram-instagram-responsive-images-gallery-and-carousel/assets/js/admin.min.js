jQuery(document).ready((t=>{const e=t("#enjoyinstagram-appearance-settings"),a=t("#enjoy_accordion_new_user"),n=t("#button_add_new_user");e.on("change","input, select",function(){const e=t(this),a=t(document).find('[data-deps="'+e.attr("name")+'"]'),n=e.val();a.length&&("radio"!==e.attr("type")||e.is(":checked"))&&t.each(a,function(){String(t(this).data("deps_value"))===n?t(this).fadeIn("slow"):t(this).fadeOut("slow")})}),e.find("input,select").change(),t("#button_cancel_add_new_user").click(function(){a.fadeOut("slow"),n.fadeIn("slow")}),n.click(function(){a.fadeIn("slow"),n.fadeOut("slow")});var i=null,o=function(e,a,n){const c={action:"load_moderation_stream_ajax",value:a,type:e};t.post(ajaxurl,c,function(e){const n=t("#reload_tabs_enjoy_"+a);if(n.length){const t=n.find('input[type="radio"]').filter(":checked").attr("id");n.replaceWith(e),n.find("#"+t).click()}else t("#load_moderation_subpanel").hide().html(e).fadeIn();const i=t("#load_moderation_subpanel .content");i.find(".display_content_tabs").each(function(){i.height()<t(this).height()&&i.height(t(this).height())})}),enjoyinstagram.autoreload_moderate&&n&&(i=setTimeout(function(){o(e,a,!0)},enjoyinstagram.autoreload_value_moderate))};t(document).on("click",".moderate_link",function(e){e.preventDefault(),e.stopPropagation();const a=t(this).attr("id"),n=t(this).attr("data-type");return i&&clearTimeout(i),o(n,a,!0),t("body").animate({scrollTop:t("#load_moderation_subpanel").offset().top},1e3),!1}),t(document).on("click",".moderate_image",function(e){e.preventDefault(),e.stopPropagation();const a=t(this).attr("data-value"),n=t(this).attr("data-moderate-type"),i={action:"moderation_image_ajax",value:a,type:n,media:t(this).closest(".enjoyinstagram_view").attr("data-image"),media_data:t(this).closest(".enjoyinstagram_view").attr("data-image_data"),from:t(this).attr("data-from")};return t.post(ajaxurl,i,function(t){o(n,a,!1)}),!1});const c=t("form.shortcode-settings-form"),s=c.find(".shortcode-preview"),d=s.find(".code"),r=c.find(".main > .enjoy_tabs_content"),l=function(t){return""!==t},u=function(e,a){var n=e.value,i=new RegExp(e.name+'="([^"]*)"',"g");if("radio"==e.type&&!t(e).is(":checked"))return a;if("checkbox"!=e.type||t(e).is(":checked")||(n=t(e).hasClass("checkbox-multiple")?"":"off"),a.match(i)){if(t(e).hasClass("checkbox-multiple")){var o=(o=a.match(i))[0].replace(e.name+'="',"").replace('"',"").split(",").filter(l),c=t.inArray(e.value,o);-1===c||t(e).is(":checked")?-1===c&&t(e).is(":checked")&&o.push(e.value):o.splice(c,1),n=o.join(",")}a=a.replace(i,e.name+'="'+n+'"')}else a+=" "+e.name+'="'+n+'"';return a};c.find('input[name="enjoy_tab_checked"]').on("change",function(){const e=t(this).val(),a=r.find("#"+e);if(!a.length)return;let n="[enjoyinstagram_"+e;a.find("input, select").each(function(){n=u(this,n)}),n+="]",d.html(n),a.addClass("active").siblings().removeClass("active")}).first().change(),c.on("change",".enjoy_tabs_content > .active input, .enjoy_tabs_content > .active select",function(){d.text(u(this,d.text()))}),s.on("click",function(){const e=t("<input>"),a=d.text();t("body").append(e),e.val(a).select(),document.execCommand("copy"),e.remove()}),r.find("[data-deps]").each(function(){const e=t(this),a=e.attr("data-deps").split(","),n=e.attr("data-deps_values").split(","),i=[];t.each(a,function(a,o){t('[name="'+o+'"]').on("change",function(){let o=this.value,c="";("radio"!==this.type||t(this).is(":checked"))&&("checkbox"===this.type&&(o=t(this).is(":checked")?"on":"off"),c=(c=n[a].toString()).split("|"),i[a]=-1!==t.inArray(o,c),-1===t.inArray(!1,i)?e.show():e.hide())}).change()})})})(jQuery));
